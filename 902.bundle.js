"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[902],{902:(n,t,r)=>{r.r(t),r.d(t,{default:()=>z});var e=r(1528),A=r(8920),i=r(3248),o=r.n(i),a=r(4596),l=r.n(a),s=r(6520),c=r.n(s),C=r(6176),p=r.n(C),d=r(5120),u=r.n(d),m=r(6808),x=r.n(m),g=r(1936),f=r.n(g),h=r(824),k={};k.styleTagTransform=f(),k.setAttributes=u(),k.insert=p().bind(null,"head"),k.domAPI=c(),k.insertStyleElement=x(),l()(h.c,k),h.c&&h.c.locals&&h.c.locals;var B=r(1504),b=r(6104),D={};D.styleTagTransform=f(),D.setAttributes=u(),D.insert=p().bind(null,"head"),D.domAPI=c(),D.insertStyleElement=x(),l()(b.c,D),b.c&&b.c.locals&&b.c.locals;var w=r(6542),j=r(5896),I=r(7624),v={faBagShopping:j.Afk,faUtensils:j.ect,faHouse:j.Lyw,faMusic:j.M15,faCar:j.uOj,faMugSaucer:j.sXm,faBicycle:j.gRr,faMountainSun:j.Ybm,faCableCar:j.U5S,faSchool:j.U34,faShip:j.Yp9,faTrain:j.GWX};function y(n){var t=n.data;return(0,I.jsxs)("div",{className:"timeDetailContainer",children:[(0,I.jsx)("div",{className:"timeLine"}),(0,I.jsxs)("div",{className:"timeDetailTitle",children:[(0,I.jsx)(w.u,{icon:v[t.type],className:"navIcons"}),(0,I.jsxs)("span",{children:[t.name," - ",t.time]}),(0,I.jsx)("div",{className:"timeItemDetail",children:t.content})]})]})}var S=r(1968),N=(r(6160),r(2328)),T=r(9792);function z(n){var t=n.data,r=n.likeHeartCount,i=n.setLikeHeartCount,a=(0,B.useState)(!1),l=(0,A.c)(a,2),s=l[0],c=l[1],C=(0,N.OY)(),p=t.tags.split("#"),d=(0,B.useState)([]),u=(0,A.c)(d,2),m=u[0],x=u[1],g=(0,B.useState)(),f=(0,A.c)(g,2),h=f[0],k=f[1];(0,B.useEffect)((function(){b(),Array.isArray(t.file)?k(t.file[0]):k(t.file),localStorage.getItem(t.id+"_like")&&c(!0)}),[]);var b=function(){var n=(0,e.c)(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(r=Object.values(t._subtable_1000139)).sort((function(n,t){return 60*parseInt(n.time.substring(0,2))+parseInt(n.time.substring(3))-(60*parseInt(t.time.substring(0,2))+parseInt(t.time.substring(3)))})),x(r);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),D=function(){document.querySelector("html").style.overflowY="auto",C((0,T.Ub)(t.id))},v=function(n){var e=r;n.stopPropagation(),s?(localStorage.removeItem(t.id+"_like"),i((function(n){return n-1})),e--):(localStorage.setItem(t.id+"_like",1),i((function(n){return n+1})),e++),c((function(n){return!n}));var A=new FormData;A.append("1000140",e),fetch("https://ap9.ragic.com/js1031222/tour/2/"+t.id+"?api&v=3",{method:"post",headers:new Headers({Authorization:"Basic aHdkVEdYblovMzY4aWk0bDlXVEhyakJJOE9NSjU1T0tnaktWYnJ5elpNS2FLTjU2QWNwUGdweFhGalRBVVFxcw=="}),body:A}).then((function(n){return n.json()})).then((function(n){}))};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"tourBlockDetail",children:(0,I.jsxs)("div",{className:"tourBlockDetailContainer",children:[(0,I.jsx)("div",{className:"tourBlockTitleContainer",children:(0,I.jsx)("div",{className:"detailTitle",children:(0,I.jsx)("p",{children:t.name})})}),(0,I.jsx)("div",{className:"tagContainer",children:p.map((function(n){if(n)return(0,I.jsx)("div",{className:"tagItem",children:n})}))}),(0,I.jsx)("div",{className:"imgContainer",children:h?(0,I.jsx)("img",{src:"https://ap9.ragic.com/sims/file.jsp?a=js1031222&f="+h,alt:"Tour Photo"}):""}),(0,I.jsx)("div",{className:"moreImgContainer",children:Array.isArray(t.file)?t.file.map((function(n){return(0,I.jsx)("img",{onClick:function(){k(n)},src:"https://ap9.ragic.com/sims/file.jsp?a=js1031222&f="+n,alt:"Tour Photo"})})):(0,I.jsx)("img",{src:"https://ap9.ragic.com/sims/file.jsp?a=js1031222&f="+t.file,alt:"Tour Photo"})}),(0,I.jsxs)("div",{className:"tourSchedule",children:[(0,I.jsx)("span",{children:"行程"}),s?(0,I.jsx)(w.u,{onClick:v,icon:j.oNn,className:"navIcons"}):(0,I.jsx)(w.u,{onClick:v,icon:S.oNn,className:"navIcons"})]}),m.map((function(n){if(n)return(0,I.jsx)(y,{data:n})}))]})}),(0,I.jsx)("div",{className:"background",onClick:D,children:(0,I.jsx)("div",{className:"xmarkContainer",onClick:D,children:(0,I.jsx)(w.u,{icon:j.gxQ,className:"navIcons"})})})]})}},6104:(n,t,r)=>{r.d(t,{c:()=>a});var e=r(5648),A=r.n(e),i=r(2312),o=r.n(i)()(A());o.push([n.id,".timeDetailContainer{margin-top:8px;position:relative}.timeDetailContainer .timeLine{position:absolute}.timeDetailContainer .timeDetailTitle{font-size:18px}.timeDetailContainer .timeDetailTitle span{font-weight:bold;font-size:16px;margin:0 10px}.timeDetailContainer .timeDetailTitle .timeItemDetail{font-size:16px;border-left:3px solid #000;padding:6px 8px 8px 18px;margin:8px 0 0 8px}","",{version:3,sources:["webpack://./src/Style/TimeDetail.scss"],names:[],mappings:"AAAA,qBACI,cAAA,CACA,iBAAA,CACA,+BAEI,iBAAA,CAEJ,sCACI,cAAA,CACA,2CACI,gBAAA,CACA,cAAA,CACA,aAAA,CAEJ,sDACI,cAAA,CACA,0BAAA,CACA,wBAAA,CACA,kBAAA",sourcesContent:[".timeDetailContainer{\r\n    margin-top: 8px;\r\n    position: relative;\r\n    .timeLine{\r\n\r\n        position: absolute;\r\n    }\r\n    .timeDetailTitle{\r\n        font-size: 18px;\r\n        span{\r\n            font-weight: bold;\r\n            font-size: 16px;\r\n            margin: 0 10px;\r\n        }\r\n        .timeItemDetail{\r\n            font-size: 16px;\r\n            border-left: 3px solid black;\r\n            padding: 6px 8px 8px 18px;\r\n            margin: 8px 0 0 8px;\r\n\r\n        }\r\n    }\r\n}"],sourceRoot:""}]);const a=o},824:(n,t,r)=>{r.d(t,{c:()=>a});var e=r(5648),A=r.n(e),i=r(2312),o=r.n(i)()(A());o.push([n.id,".tourBlockDetail{width:550px;position:fixed;top:50%;left:50%;max-height:600px;transform:translate(-50%, -50%);background-color:#fff;z-index:200;border-radius:8px;overflow-y:auto}.tourBlockDetail .tourBlockDetailContainer{border-bottom:2px solid gray;padding-bottom:30px;width:80%;position:relative;margin:10px auto 30px auto}.tourBlockDetail .tourBlockDetailContainer .tourBlockTitleContainer{border-radius:8px;display:flex;justify-content:center;align-items:center;background-color:#fff}.tourBlockDetail .tourBlockDetailContainer .tourBlockTitleContainer .detailTitle{display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:bolder;margin-top:15px}.tourBlockDetail .tourBlockDetailContainer .tagContainer{display:flex;align-items:center;flex-wrap:wrap;margin:15px 0}.tourBlockDetail .tourBlockDetailContainer .tagContainer .tagItem{font-size:13px;margin:5px 12px 5px 0;border:1px solid gray;border-radius:8px;padding:3px 7px}.tourBlockDetail .tourBlockDetailContainer .imgContainer{width:100%;height:300px}.tourBlockDetail .tourBlockDetailContainer .imgContainer img{width:100%;height:100%;object-fit:cover}.tourBlockDetail .tourBlockDetailContainer .moreImgContainer{margin-top:15px;width:100%;display:flex;align-items:center;flex-wrap:wrap}.tourBlockDetail .tourBlockDetailContainer .moreImgContainer img{margin:4px;cursor:pointer;width:18%;height:50px;object-fit:cover;border:1px solid #606060}.tourBlockDetail .tourBlockDetailContainer .tourSchedule{margin-top:30px;font-size:18px;font-weight:bold;display:flex;align-items:center;justify-content:space-between}.background{position:fixed;width:100%;height:100%;top:0;left:0;z-index:99;background-color:#444;opacity:.8;display:flex;justify-content:center;align-items:center}.background .xmarkContainer{cursor:pointer;position:absolute;top:20px;right:20px}.background .xmarkContainer .navIcons{font-size:28px;color:#fff}@media(max-width: 900px){.tourBlockDetail{top:53%;width:320px;max-height:500px}.tourBlockDetail .tourBlockDetailContainer{width:90%}.tourBlockDetail .tourBlockDetailContainer .imgContainer{height:192px}.tourBlockDetail .tourBlockDetailContainer .moreImgContainer img{height:40px}}","",{version:3,sources:["webpack://./src/Style/TourBlockDetail.scss"],names:[],mappings:"AAAA,iBACI,WAAA,CACA,cAAA,CACA,OAAA,CACA,QAAA,CACA,gBAAA,CACA,+BAAA,CACA,qBAAA,CACA,WAAA,CACA,iBAAA,CACA,eAAA,CACA,2CACI,4BAAA,CACA,mBAAA,CAEA,SAAA,CACA,iBAAA,CACA,0BAAA,CACA,oEACI,iBAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,qBAAA,CACA,iFACI,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,cAAA,CACA,kBAAA,CACA,eAAA,CAIR,yDACI,YAAA,CACA,kBAAA,CACA,cAAA,CACA,aAAA,CACA,kEACI,cAAA,CACA,qBAAA,CACA,qBAAA,CACA,iBAAA,CACA,eAAA,CAGR,yDACI,UAAA,CACA,YAAA,CACA,6DACI,UAAA,CACA,WAAA,CACA,gBAAA,CAGR,6DACI,eAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CACA,cAAA,CACA,iEACI,UAAA,CACA,cAAA,CACA,SAAA,CACA,WAAA,CACA,gBAAA,CACA,wBAAA,CAIR,yDACI,eAAA,CACA,cAAA,CACA,gBAAA,CACA,YAAA,CACA,kBAAA,CACA,6BAAA,CAKZ,YACI,cAAA,CACA,UAAA,CACA,WAAA,CACA,KAAA,CACA,MAAA,CACA,UAAA,CACA,qBAAA,CACA,UAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,4BACI,cAAA,CACA,iBAAA,CACA,QAAA,CACA,UAAA,CACA,sCACI,cAAA,CACA,UAAA,CAMZ,yBACI,iBACI,OAAA,CACA,WAAA,CACA,gBAAA,CACA,2CACI,SAAA,CACA,yDACI,YAAA,CAGA,iEACI,WAAA,CAAA",sourcesContent:[".tourBlockDetail{\r\n    width: 550px;\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    max-height: 600px;\r\n    transform: translate(-50%, -50%);\r\n    background-color: white;\r\n    z-index: 200;\r\n    border-radius: 8px;\r\n    overflow-y: auto;\r\n    .tourBlockDetailContainer{\r\n        border-bottom: 2px solid gray;\r\n        padding-bottom: 30px;\r\n        \r\n        width: 80%;\r\n        position: relative;\r\n        margin: 10px auto 30px auto;\r\n        .tourBlockTitleContainer{\r\n            border-radius: 8px;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            background-color: white;\r\n            .detailTitle{\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n                font-size: 18px;\r\n                font-weight: bolder;\r\n                margin-top: 15px;\r\n            }\r\n        }\r\n\r\n        .tagContainer{\r\n            display: flex;\r\n            align-items: center;\r\n            flex-wrap: wrap;\r\n            margin: 15px 0;\r\n            .tagItem{\r\n                font-size: 13px;\r\n                margin: 5px 12px 5px 0;\r\n                border: 1px solid gray;\r\n                border-radius: 8px;\r\n                padding: 3px 7px;\r\n            }\r\n        }\r\n        .imgContainer{\r\n            width: 100%;\r\n            height: 300px;\r\n            img{\r\n                width: 100%;\r\n                height: 100%;\r\n                object-fit: cover;\r\n            }\r\n        }\r\n        .moreImgContainer{\r\n            margin-top: 15px;\r\n            width: 100%;\r\n            display: flex;\r\n            align-items: center;\r\n            flex-wrap: wrap;\r\n            img{\r\n                margin: 4px;\r\n                cursor: pointer;\r\n                width: 18%;\r\n                height: 50px;\r\n                object-fit: cover;\r\n                border: 1px solid rgb(96, 96, 96);\r\n            }\r\n\r\n        }\r\n        .tourSchedule{\r\n            margin-top: 30px;\r\n            font-size: 18px;\r\n            font-weight: bold;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n        }\r\n    }\r\n}\r\n\r\n.background{\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 99;\r\n    background-color: rgb(68, 68, 68);\r\n    opacity: 0.8;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    .xmarkContainer{\r\n        cursor: pointer;\r\n        position: absolute;\r\n        top: 20px;\r\n        right: 20px;\r\n        .navIcons{\r\n            font-size: 28px;\r\n            color: white;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n@media(max-width: 900px) {\r\n    .tourBlockDetail{\r\n        top: 53%;\r\n        width: 320px;\r\n        max-height: 500px;\r\n        .tourBlockDetailContainer{            \r\n            width: 90%;\r\n            .imgContainer{\r\n                height: 192px;\r\n            }\r\n            .moreImgContainer{\r\n                img{\r\n                    height: 40px;\r\n                }\r\n    \r\n            }\r\n        }\r\n    }\r\n}"],sourceRoot:""}]);const a=o}}]);
//# sourceMappingURL=902.bundle.js.map